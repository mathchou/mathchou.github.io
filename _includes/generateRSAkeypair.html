<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA key generation</title>
<style>
#xcontainer {
    display: flex;
    justify-content: space-around;  /* Even space between columns */
    margin-top: 20px;
    gap: 10px;  /* Reduced gap between columns */
    flex-wrap: wrap;  /* Allow wrapping for smaller screens */
}

.xkey-box {
    margin: 5px;  /* Reduced margin between boxes */
    padding: 10px;  /* Reduced padding inside the boxes */
    border: 1px solid #ccc;
    width: 230px;  /* Reduced width of the boxes */
    word-wrap: break-word;
    box-sizing: border-box;  /* Ensures padding is included in the width */
}

.xcolumn {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-basis: 32%; /* Slightly reduced width for each column */
}

.xdownload-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex-basis: 50%;
    margin-top: 20px;
}

</style>
</head>
<body>


    <h1>Generate an ID and key pair</h1>
    <button onclick="generatePrimesAndRSA()">Generate Primes and RSA Keys</button>

    <div id="xcontainer">
        <!-- Left Column for Modulus N and Encryption Exponent e -->
        <div class="xcolumn">
            <h2>Public Key Data</h2>
            <div id="NBox" class="xkey-box">
                <strong>Modulus N = </strong><span id="NValue">Waiting for N...</span>
            </div>
            <div id="eBox" class="xkey-box">
                <strong>Encryption exponent e = </strong><span id="eValue">Waiting for e...</span>
            </div>
        </div>

        <!-- Right Column for Primes p, q, and Decryption Exponent d -->
        <div class="xcolumn">
            <h2>Private Key Data</h2>
            <div id="pBox" class="xkey-box">
                <strong>p = </strong><span id="pValue">Waiting for prime...</span>
            </div>
            <div id="qBox" class="xkey-box">
                <strong>q = </strong><span id="qValue">Waiting for prime...</span>
            </div>
            <div id="dBox" class="xkey-box">
                <strong>Decryption exponent d = </strong><span id="dValue">Waiting for d...</span>
            </div>
        </div>

        <!-- Download Column with link -->
        <div class="xdownload-column">
            <h2>Download RSA Keys</h2>
            <a id="downloadLink" href="#" style="display:none;" download="rsa-keys.txt">Download RSA Key Data</a>
        </div>
    </div>
	
	<h1>Register User</h1>
  <form id="register-form">
    <label for="user_id">User ID:</label>
    <input type="text" id="user_id" name="user_id" required>
    <br><br>
    <label for="N">Key (N):</label>
    <input type="number" id="N" name="N" required>
    <br><br>
    <button type="submit">Register</button>
  </form>

  <p id="response"></p>

  <h1>Registered Users</h1>
  <table border="1" id="users-table">
    <thead>
      <tr>
        <th>User ID</th>
        <th>Public Key (N)</th>
      </tr>
    </thead>
    <tbody id="usersTableBody">
      <!-- User data will be dynamically inserted here -->
    </tbody>
  </table>

    <!-- Link to external JavaScript file -->
    <script src="./assets/js/key-registration.js"></script>

</body>
</html>
